import React, { useState } from 'react';
import { Train, Car, MapPin, IndianRupee, Clock, Navigation, AlertCircle } from 'lucide-react';

const DelhiTripPlanner = () => {
  const [selectedRoute, setSelectedRoute] = useState(null);

  const routes = [
    {
      from: "START ‚Üí Chandni Chowk",
      to: "Chandni Chowk",
      distance: "Varies by location",
      metro: { time: "Varies", cost: "‚Çπ20-60", details: "Take Yellow Line to Chandni Chowk Station" },
      taxi: { time: "Varies", cost: "‚Çπ150-500", details: "Depends on starting point" },
      recommended: "Metro",
      visit: "7:30 AM - 9:30 AM (2 hours)"
    },
    {
      from: "Chandni Chowk",
      to: "Red Fort",
      distance: "1 km",
      metro: { time: "5 min", cost: "‚Çπ10", details: "Take Violet Line from Chandni Chowk to Lal Qila OR walk 10-15 mins" },
      taxi: { time: "5 min", cost: "‚Çπ30-50", details: "Auto/e-rickshaw" },
      walk: { time: "10-15 min", cost: "Free" },
      recommended: "Walk",
      visit: "9:30 AM - 11:00 AM (1.5 hours)"
    },
    {
      from: "Red Fort",
      to: "India Gate",
      distance: "8 km",
      metro: { time: "30-40 min", cost: "‚Çπ20-30", details: "Lal Qila ‚Üí Kashmere Gate ‚Üí Central Secretariat (Yellow Line), then walk 15 min" },
      taxi: { time: "20-30 min", cost: "‚Çπ150-200", details: "Direct via Ola/Uber - saves time!" },
      recommended: "Taxi (saves time)",
      visit: "11:45 AM - 1:00 PM (1.25 hours + lunch)"
    },
    {
      from: "India Gate",
      to: "Humayun's Tomb",
      distance: "6 km",
      metro: { time: "45-60 min", cost: "‚Çπ20-30", details: "Walk to Central Secretariat ‚Üí Violet Line to JLN Stadium, then auto ‚Çπ50-80" },
      taxi: { time: "15-20 min", cost: "‚Çπ100-150", details: "Direct via Ola/Uber - HIGHLY recommended" },
      recommended: "Taxi (saves 30+ min)",
      visit: "2:00 PM - 3:30 PM (1.5 hours)"
    },
    {
      from: "Humayun's Tomb",
      to: "Qutub Minar",
      distance: "14 km",
      metro: { time: "60-75 min", cost: "‚Çπ30-40", details: "JLN Stadium ‚Üí Central Secretariat ‚Üí Qutab Minar (Yellow Line)" },
      taxi: { time: "35-45 min", cost: "‚Çπ250-350", details: "Direct via Ola/Uber" },
      recommended: "Metro (cost-effective)",
      visit: "4:30 PM - 6:30 PM (2 hours)"
    },
    {
      from: "Qutub Minar",
      to: "Waste to Wonder Park",
      distance: "35 km",
      metro: { time: "90-120 min", cost: "‚Çπ50-60", details: "Qutab Minar ‚Üí Rajiv Chowk ‚Üí Noida Sector 62 (Yellow+Blue Line)" },
      taxi: { time: "60-75 min", cost: "‚Çπ500-700", details: "Very expensive, not recommended" },
      recommended: "Skip for 1-day trip",
      visit: "NOT POSSIBLE in 1-day trip",
      warning: true
    }
  ];

  const costSummary = {
    metroOnly: {
      travel: "‚Çπ100-170",
      entry: "‚Çπ95",
      food: "‚Çπ300-500",
      total: "‚Çπ495-765"
    },
    recommended: {
      travel: "‚Çπ350-500 (Metro + 2 taxis)",
      entry: "‚Çπ95",
      food: "‚Çπ300-500",
      total: "‚Çπ745-1095"
    },
    allTaxi: {
      travel: "‚Çπ1000-1400",
      entry: "‚Çπ95",
      food: "‚Çπ300-500",
      total: "‚Çπ1395-1995"
    }
  };

  const entryFees = [
    { place: "Chandni Chowk", fee: "Free" },
    { place: "Red Fort", fee: "‚Çπ35" },
    { place: "India Gate", fee: "Free" },
    { place: "Humayun's Tomb", fee: "‚Çπ30 (Free on Friday!)" },
    { place: "Qutub Minar", fee: "‚Çπ30" }
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50 p-4 md:p-8">
      <div className="max-w-6xl mx-auto">
        {/* Header */}
        <div className="bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-xl p-6 mb-6">
          <h1 className="text-3xl font-bold mb-2 flex items-center gap-3">
            <Navigation size={32} />
            Delhi One-Day Trip: Complete Travel Guide
          </h1>
          <p className="text-orange-100">Distance, Fare & Cost breakdown for all routes</p>
        </div>

        {/* Starting Point Recommendation */}
        <div className="bg-green-50 border-2 border-green-500 rounded-xl p-6 mb-6">
          <div className="flex items-start gap-4">
            <div className="bg-green-500 text-white rounded-full p-3">
              <MapPin size={24} />
            </div>
            <div>
              <h2 className="text-2xl font-bold text-green-800 mb-2">üéØ START HERE: Chandni Chowk</h2>
              <p className="text-gray-700 mb-2">
                <strong>Why start at Chandni Chowk?</strong>
              </p>
              <ul className="space-y-1 text-gray-700">
                <li>‚úì Best to visit early morning (7:30 AM) before crowds</li>
                <li>‚úì Walking distance to Red Fort - no extra travel needed</li>
                <li>‚úì Famous breakfast spots (Paranthe Wali Gali)</li>
                <li>‚úì Located on Yellow Line - main metro line for your trip</li>
                <li>‚úì Logical starting point moving South ‚Üí West Delhi</li>
              </ul>
              <div className="mt-3 p-3 bg-white rounded border-l-4 border-green-500">
                <strong>Pro Tip:</strong> Reach Chandni Chowk by 7:30 AM via Yellow Line metro from anywhere in Delhi!
              </div>
            </div>
          </div>
        </div>

        {/* Route-by-Route Table */}
        <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
          <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2">
            <Train className="text-blue-500" />
            Route-by-Route Breakdown
          </h2>
          
          <div className="space-y-4">
            {routes.map((route, index) => (
              <div 
                key={index}
                className={`border-2 rounded-lg p-4 cursor-pointer transition-all ${
                  route.warning 
                    ? 'border-red-300 bg-red-50' 
                    : selectedRoute === index 
                      ? 'border-blue-500 bg-blue-50' 
                      : 'border-gray-200 hover:border-blue-300'
                }`}
                onClick={() => setSelectedRoute(selectedRoute === index ? null : index)}
              >
                <div className="flex items-start justify-between gap-4 mb-3">
                  <div className="flex-1">
                    <div className="flex items-center gap-2 mb-1">
                      <span className="bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                        Step {index + 1}
                      </span>
                      {route.warning && (
                        <span className="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1">
                          <AlertCircle size={14} /> NOT FEASIBLE
                        </span>
                      )}
                    </div>
                    <h3 className="text-xl font-bold text-gray-800">
                      {route.from} ‚Üí {route.to}
                    </h3>
                    <p className="text-sm text-gray-600">Distance: <strong>{route.distance}</strong></p>
                    <p className="text-sm text-purple-600 font-semibold mt-1">Visit Time: {route.visit}</p>
                  </div>
                  
                  <div className="text-right">
                    <div className="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-bold">
                      Best: {route.recommended}
                    </div>
                  </div>
                </div>

                {/* Travel Options */}
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                  {route.metro && (
                    <div className={`p-3 rounded-lg ${route.recommended === 'Metro' ? 'bg-blue-100 border-2 border-blue-500' : 'bg-gray-50'}`}>
                      <div className="flex items-center gap-2 mb-2">
                        <Train size={16} className="text-blue-500" />
                        <span className="font-bold text-gray-800">Metro</span>
                      </div>
                      <div className="text-sm space-y-1">
                        <div className="flex items-center gap-1">
                          <Clock size={12} />
                          <span>{route.metro.time}</span>
                        </div>
                        <div className="flex items-center gap-1">
                          <IndianRupee size={12} />
                          <span className="font-bold text-blue-600">{route.metro.cost}</span>
                        </div>
                        {selectedRoute === index && (
                          <p className="text-xs text-gray-600 mt-2 pt-2 border-t">{route.metro.details}</p>
                        )}
                      </div>
                    </div>
                  )}

                  {route.taxi && (
                    <div className={`p-3 rounded-lg ${route.recommended === 'Taxi (saves time)' || route.recommended === 'Taxi (saves 30+ min)' ? 'bg-green-100 border-2 border-green-500' : 'bg-gray-50'}`}>
                      <div className="flex items-center gap-2 mb-2">
                        <Car size={16} className="text-green-500" />
                        <span className="font-bold text-gray-800">Taxi/Auto</span>
                      </div>
                      <div className="text-sm space-y-1">
                        <div className="flex items-center gap-1">
                          <Clock size={12} />
                          <span>{route.taxi.time}</span>
                        </div>
                        <div className="flex items-center gap-1">
                          <IndianRupee size={12} />
                          <span className="font-bold text-green-600">{route.taxi.cost}</span>
                        </div>
                        {selectedRoute === index && (
                          <p className="text-xs text-gray-600 mt-2 pt-2 border-t">{route.taxi.details}</p>
                        )}
                      </div>
                    </div>
                  )}

                  {route.walk && (
                    <div className={`p-3 rounded-lg ${route.recommended === 'Walk' ? 'bg-purple-100 border-2 border-purple-500' : 'bg-gray-50'}`}>
                      <div className="flex items-center gap-2 mb-2">
                        <MapPin size={16} className="text-purple-500" />
                        <span className="font-bold text-gray-800">Walk</span>
                      </div>
                      <div className="text-sm space-y-1">
                        <div className="flex items-center gap-1">
                          <Clock size={12} />
                          <span>{route.walk.time}</span>
                        </div>
                        <div className="flex items-center gap-1">
                          <IndianRupee size={12} />
                          <span className="font-bold text-purple-600">{route.walk.cost}</span>
                        </div>
                      </div>
                    </div>
                  )}
                </div>

                {route.warning && (
                  <div className="mt-3 p-3 bg-red-100 border-l-4 border-red-500 rounded">
                    <p className="text-sm text-red-800">
                      <strong>‚ö†Ô∏è Warning:</strong> Waste to Wonder Park is 35 km away in Noida. Adding this will take 3-4 hours extra travel time, making a 1-day trip impossible. Consider visiting it on a separate day.
                    </p>
                  </div>
                )}
              </div>
            ))}
          </div>
        </div>

        {/* Cost Summary */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
          <div className="bg-white rounded-xl shadow-lg p-6 border-t-4 border-blue-500">
            <h3 className="text-lg font-bold text-gray-800 mb-4">üí∞ Budget Option</h3>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between">
                <span>Travel (Metro only):</span>
                <span className="font-bold">{costSummary.metroOnly.travel}</span>
              </div>
              <div className="flex justify-between">
                <span>Entry Fees:</span>
                <span className="font-bold">{costSummary.metroOnly.entry}</span>
              </div>
              <div className="flex justify-between">
                <span>Food & Water:</span>
                <span className="font-bold">{costSummary.metroOnly.food}</span>
              </div>
              <div className="border-t-2 pt-2 flex justify-between text-lg">
                <span className="font-bold">Total:</span>
                <span className="font-bold text-blue-600">{costSummary.metroOnly.total}</span>
              </div>
            </div>
            <p className="text-xs text-gray-600 mt-3">Takes longer but most economical</p>
          </div>

          <div className="bg-white rounded-xl shadow-lg p-6 border-t-4 border-green-500">
            <h3 className="text-lg font-bold text-gray-800 mb-4">‚≠ê Recommended</h3>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between">
                <span>Travel (Mix):</span>
                <span className="font-bold">{costSummary.recommended.travel}</span>
              </div>
              <div className="flex justify-between">
                <span>Entry Fees:</span>
                <span className="font-bold">{costSummary.recommended.entry}</span>
              </div>
              <div className="flex justify-between">
                <span>Food & Water:</span>
                <span className="font-bold">{costSummary.recommended.food}</span>
              </div>
              <div className="border-t-2 pt-2 flex justify-between text-lg">
                <span className="font-bold">Total:</span>
                <span className="font-bold text-green-600">{costSummary.recommended.total}</span>
              </div>
            </div>
            <p className="text-xs text-gray-600 mt-3">Best balance of time & cost - taxi for 2 routes</p>
          </div>

          <div className="bg-white rounded-xl shadow-lg p-6 border-t-4 border-orange-500">
            <h3 className="text-lg font-bold text-gray-800 mb-4">üöó Comfort Option</h3>
            <div className="space-y-2 text-sm">
              <div className="flex justify-between">
                <span>Travel (All taxi):</span>
                <span className="font-bold">{costSummary.allTaxi.travel}</span>
              </div>
              <div className="flex justify-between">
                <span>Entry Fees:</span>
                <span className="font-bold">{costSummary.allTaxi.entry}</span>
              </div>
              <div className="flex justify-between">
                <span>Food & Water:</span>
                <span className="font-bold">{costSummary.allTaxi.food}</span>
              </div>
              <div className="border-t-2 pt-2 flex justify-between text-lg">
                <span className="font-bold">Total:</span>
                <span className="font-bold text-orange-600">{costSummary.allTaxi.total}</span>
              </div>
            </div>
            <p className="text-xs text-gray-600 mt-3">Fastest but most expensive</p>
          </div>
        </div>

        {/* Entry Fees Table */}
        <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
          <h2 className="text-2xl font-bold text-gray-800 mb-4">üé´ Entry Fees Breakdown</h2>
          <div className="overflow-x-auto">
            <table className="w-full">
              <thead>
                <tr className="bg-gray-100">
                  <th className="p-3 text-left font-bold">Place</th>
                  <th className="p-3 text-right font-bold">Entry Fee</th>
                </tr>
              </thead>
              <tbody>
                {entryFees.map((item, index) => (
                  <tr key={index} className="border-t">
                    <td className="p-3">{item.place}</td>
                    <td className="p-3 text-right font-semibold text-green-600">{item.fee}</td>
                  </tr>
                ))}
                <tr className="border-t-2 bg-green-50">
                  <td className="p-3 font-bold">Total Entry Fees</td>
                  <td className="p-3 text-right font-bold text-green-700">‚Çπ95 (‚Çπ65 on Friday!)</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        {/* Final Recommendations */}
        <div className="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl shadow-lg p-6">
          <h2 className="text-2xl font-bold mb-4">üéØ My Recommendation</h2>
          <div className="space-y-3">
            <p className="text-lg">‚úÖ <strong>START:</strong> Chandni Chowk at 7:30 AM</p>
            <p className="text-lg">‚úÖ <strong>TRAVEL:</strong> Use Metro mostly + 2 taxis (Red Fort‚ÜíIndia Gate & India Gate‚ÜíHumayun's Tomb)</p>
            <p className="text-lg">‚úÖ <strong>SKIP:</strong> Waste to Wonder Park (too far - visit another day)</p>
            <p className="text-lg">‚úÖ <strong>BUDGET:</strong> ‚Çπ750-1100 total for everything</p>
            <p className="text-lg">‚úÖ <strong>TIME:</strong> 7:30 AM - 6:30 PM (11 hours)</p>
            <p className="text-lg">‚úÖ <strong>BONUS:</strong> Visit on Friday to save ‚Çπ30 at Humayun's Tomb!</p>
          </div>
        </div>

        <div className="mt-4 text-center text-sm text-gray-600">
          Click on any route above to see detailed travel instructions! üëÜ
        </div>
      </div>
    </div>
  );
};

export default DelhiTripPlanner;
